"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[71],{2123:function(e,s,n){n.r(s),n.d(s,{SignPage:function(){return k}});var a=n(8214),r=n(5861),o=n(1413),t=n(885),i=n(2791),l=n(6151),d=n(4708),m=n(8415),u=n(533),c=n(703),h=n(8870),p=n(1889),g=n(890);var w=n.p+"static/media/user-login.7cd8cf8a4af4de76d3804fb0ba5c41b8.svg",f=n(7909),Z=n(6871),x=n(2888),v=n(3896),P=n(3466),b=n(3400),j=n(5523),C=n(9174),I=n(9569),S=n(3710),y=n(184);function k(){var e=(0,Z.s0)(),s=(0,v.cI)({defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),n=s.register,k=s.handleSubmit,q=s.formState.errors,L=(0,i.useState)(!0),T=(0,t.Z)(L,2),U=T[0],A=T[1],W=(0,i.useState)({showPassword:!1,showConfirmPassword:!1}),E=(0,t.Z)(W,2),D=E[0],F=E[1],N=(0,i.useState)(!1),R=(0,t.Z)(N,2),V=R[0],z=R[1],H=(0,i.useState)(!1),O=(0,t.Z)(H,2),Y=O[0],$=O[1],_=(0,i.useState)(!1),B=(0,t.Z)(_,2),G=B[0],J=B[1],K=(0,x.Z)();(0,i.useEffect)((function(){Y&&J(!V)}),[Y]);var M=U?"auth/signin":"auth/signup",Q=function(){var s=(0,r.Z)((0,a.Z)().mark((function s(n){var r,t,i,l,d,m;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:r=n.name,t=n.email,i=n.password,l=n.confirmPassword,d={name:r,email:t,password:i,confirmPassword:l},m=["professor"],U||(d.password===d.confirmPassword?(z(!1),f.Z.post(M,(0,o.Z)((0,o.Z)({},d),{},{role:m})).then((function(s){if(201===s.status)return alert("User was created! Please Sign In"),console.log("User created"),void e("/sign",{replace:!0})})).catch((function(s){alert("Email already exists!"),e("/sign",{replace:!0}),console.log(s.message)}))):(z(!0),alert("The inputed passwords are different! Try again"))),U&&f.Z.post(M,d,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then((function(s){var n=s.data.token,a=s.data.user;console.log(s.data),K.signin(n,a),K.isSignedIn=!0,console.log("User logged In"),e("/my",{replace:!0})})).catch((function(e){alert("User not found!"),console.log(e.message),K.isSignedIn=!1}));case 5:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,y.jsxs)(p.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,y.jsx)(d.ZP,{}),(0,y.jsx)(p.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(".concat(w,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,y.jsx)(p.ZP,{item:!0,xs:12,sm:8,md:5,component:c.Z,elevation:6,square:!0,children:(0,y.jsxs)(h.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,y.jsx)(g.Z,{component:"h1",variant:"h5",children:U?"Sign In":"Sign Up - Professors Only"}),(0,y.jsxs)(h.Z,{component:"form",noValidate:!0,onSubmit:k(Q),sx:{mt:1},children:[!U&&(0,y.jsx)(m.Z,(0,o.Z)((0,o.Z)({margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Your Name"},n("name",{required:"Name is required!",minLength:{value:3,message:"Invalid name, must have between 3 to 25 characters"},maxLength:{value:25,message:"Invalid name, must have less then 25 characters"}})),{},{autoComplete:"name",autoFocus:!0,error:!(null===q||void 0===q||!q.name),helperText:null!==q&&void 0!==q&&q.name?q.name.message:null,inputProps:{maxLength:25}})),(0,y.jsx)(m.Z,(0,o.Z)((0,o.Z)({margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address"},n("email",{required:"Email is required!",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{autoComplete:"email",autoFocus:!0,error:!(null===q||void 0===q||!q.email),helperText:null!==q&&void 0!==q&&q.email?q.email.message:null})),(0,y.jsx)(m.Z,(0,o.Z)((0,o.Z)({margin:"normal",required:!0,fullWidth:!0},n("password",{required:"Password is required!",minLength:{value:8,message:"Invalid password, must have between 8 to 25 characters"},maxLength:{value:25,message:"Invalid password, must have less then 25 characters"}})),{},{label:"Password",type:D.showPassword?"text":"password",id:"password",autoComplete:"current-password",error:!(null===q||void 0===q||!q.password),helperText:null!==q&&void 0!==q&&q.password?q.password.message:null,inputProps:{maxLength:25},InputProps:{endAdornment:(0,y.jsx)(P.Z,{position:"end",children:(0,y.jsx)(b.Z,{onClick:function(){F((0,o.Z)((0,o.Z)({},D),{},{showPassword:!D.showPassword}))},"aria-label":"toggle password",edge:"end",children:D.showPassword?(0,y.jsx)(I.Z,{}):(0,y.jsx)(S.Z,{})})})}})),!U&&(0,y.jsx)(m.Z,(0,o.Z)((0,o.Z)({margin:"normal",required:!0,fullWidth:!0},n("confirmPassword",{required:"Confirm password is required!",minLength:{value:8,message:"Invalid password, must have between 8 to 25 characters"},maxLength:{value:25,message:"Invalid password, must have less then 25 characters"}})),{},{label:"Confirm Password",type:D.showConfirmPassword?"text":"password",id:"confirmPassword",autoComplete:"confirm-password",error:!(null===q||void 0===q||!q.confirmPassword),helperText:!G&&V?null:"Passwords do not match",inputProps:{maxLength:25},onChange:function(){$(!0)},InputProps:{endAdornment:(0,y.jsx)(P.Z,{position:"end",children:(0,y.jsx)(b.Z,{onClick:function(){F((0,o.Z)((0,o.Z)({},D),{},{showConfirmPassword:!D.showConfirmPassword}))},"aria-label":"toggle password",edge:"end",children:D.showConfirmPassword?(0,y.jsx)(I.Z,{}):(0,y.jsx)(S.Z,{})})})}})),U&&(0,y.jsx)(j.Z,{control:(0,y.jsx)(C.Z,{value:"remember",color:"primary"}),label:"Remember me"}),(0,y.jsx)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",sx:{mt:3,mb:2},children:U?"Sign In":"Sign Up"}),(0,y.jsx)(p.ZP,{container:!0,children:(0,y.jsx)(p.ZP,{item:!0,children:(0,y.jsx)(u.Z,{href:"#",variant:"body2",onClick:function(){A((function(e){return!e}))},children:U?"Dont have an account? Sign Up":"Have an account? Sign In"})})})]})]})})]})}}}]);
//# sourceMappingURL=71.34cd089a.chunk.js.map