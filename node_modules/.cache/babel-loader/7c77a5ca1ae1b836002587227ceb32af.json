{"ast":null,"code":"import{useLocation,Navigate,Outlet}from'react-router-dom';import useAuth from'../hooks/useAuth';import{jsx as _jsx}from\"react/jsx-runtime\";var RequireAuth=function RequireAuth(props){var authCtx=useAuth();var location=useLocation();return authCtx.user.role.find(function(role){var _props$allowedRoles;return(_props$allowedRoles=props.allowedRoles)===null||_props$allowedRoles===void 0?void 0:_props$allowedRoles.includes(role);})?/*#__PURE__*/_jsx(Outlet,{}):authCtx!==null&&authCtx!==void 0&&authCtx.user?/*#__PURE__*/_jsx(Navigate,{to:\"/unauthorized\",state:{from:location},replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/sign\",state:{from:location},replace:true});};export default RequireAuth;","map":{"version":3,"names":["useLocation","Navigate","Outlet","useAuth","RequireAuth","props","authCtx","location","user","role","find","allowedRoles","includes","from"],"sources":["/home/luismelo/Documents/GitHub/Frontend/src/shared/features/RequireAuth.tsx"],"sourcesContent":["import { useLocation, Navigate, Outlet} from 'react-router-dom';\nimport useAuth from '../hooks/useAuth';\n\nconst RequireAuth = (props: any) => {\n  const authCtx = useAuth();\n  const location = useLocation();\n\n  return (\n    authCtx.user.role.find(role => props.allowedRoles?.includes(role))\n      ? <Outlet/> \n      : authCtx?.user \n        ? <Navigate to='/unauthorized' state={{from: location}} replace />  \n        : <Navigate to='/sign' state={{from: location}} replace/>);\n\n};\n\nexport default RequireAuth;"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,QAAtB,CAAgCC,MAAhC,KAA6C,kBAA7C,CACA,MAAOC,QAAP,KAAoB,kBAApB,C,2CAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAgB,CAClC,GAAMC,QAAO,CAAGH,OAAO,EAAvB,CACA,GAAMI,SAAQ,CAAGP,WAAW,EAA5B,CAEA,MACEM,QAAO,CAACE,IAAR,CAAaC,IAAb,CAAkBC,IAAlB,CAAuB,SAAAD,IAAI,qDAAIJ,KAAK,CAACM,YAAV,8CAAI,oBAAoBC,QAApB,CAA6BH,IAA7B,CAAJ,EAA3B,eACI,KAAC,MAAD,IADJ,CAEIH,OAAO,OAAP,EAAAA,OAAO,SAAP,EAAAA,OAAO,CAAEE,IAAT,cACE,KAAC,QAAD,EAAU,EAAE,CAAC,eAAb,CAA6B,KAAK,CAAE,CAACK,IAAI,CAAEN,QAAP,CAApC,CAAsD,OAAO,KAA7D,EADF,cAEE,KAAC,QAAD,EAAU,EAAE,CAAC,OAAb,CAAqB,KAAK,CAAE,CAACM,IAAI,CAAEN,QAAP,CAA5B,CAA8C,OAAO,KAArD,EALR,CAOD,CAXD,CAaA,cAAeH,YAAf"},"metadata":{},"sourceType":"module"}