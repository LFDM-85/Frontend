[{"/home/luismelo/Documents/GitHub/Frontend/src/index.tsx":"1","/home/luismelo/Documents/GitHub/Frontend/src/interceptors/axios.ts":"2","/home/luismelo/Documents/GitHub/Frontend/src/App.tsx":"3","/home/luismelo/Documents/GitHub/Frontend/src/shared/store/auth-context.tsx":"4","/home/luismelo/Documents/GitHub/Frontend/src/shared/themes/index.ts":"5","/home/luismelo/Documents/GitHub/Frontend/src/shared/themes/Theme.ts":"6","/home/luismelo/Documents/GitHub/Frontend/src/routes/index.tsx":"7","/home/luismelo/Documents/GitHub/Frontend/src/shared/features/RequireAuth.tsx":"8","/home/luismelo/Documents/GitHub/Frontend/src/pages/Unauthorized/Unauthorized.tsx":"9","/home/luismelo/Documents/GitHub/Frontend/src/pages/LandingPage/LandingPage.tsx":"10","/home/luismelo/Documents/GitHub/Frontend/src/pages/SignPage/SignPage.tsx":"11","/home/luismelo/Documents/GitHub/Frontend/src/pages/MyPage/MyPage.tsx":"12","/home/luismelo/Documents/GitHub/Frontend/src/shared/components/LayoutRoutes/LayoutRotes.tsx":"13","/home/luismelo/Documents/GitHub/Frontend/src/shared/components/Loading/Loading.tsx":"14","/home/luismelo/Documents/GitHub/Frontend/src/shared/components/MyPageRoute/MyPageRoute.tsx":"15","/home/luismelo/Documents/GitHub/Frontend/src/shared/hooks/useAuth.tsx":"16","/home/luismelo/Documents/GitHub/Frontend/src/shared/layouts/MyLayout.tsx":"17","/home/luismelo/Documents/GitHub/Frontend/src/shared/components/SideBar/SideBar.tsx":"18","/home/luismelo/Documents/GitHub/Frontend/src/shared/features/SignServices.ts":"19"},{"size":786,"mtime":1661964640665,"results":"20","hashOfConfig":"21"},{"size":283,"mtime":1661964640665,"results":"22","hashOfConfig":"21"},{"size":95,"mtime":1661964640661,"results":"23","hashOfConfig":"21"},{"size":1215,"mtime":1661964640665,"results":"24","hashOfConfig":"21"},{"size":25,"mtime":1661964640665,"results":"25","hashOfConfig":"21"},{"size":448,"mtime":1661964640665,"results":"26","hashOfConfig":"21"},{"size":2944,"mtime":1661964640665,"results":"27","hashOfConfig":"21"},{"size":509,"mtime":1661964640665,"results":"28","hashOfConfig":"21"},{"size":1166,"mtime":1661964640665,"results":"29","hashOfConfig":"21"},{"size":1563,"mtime":1661964640665,"results":"30","hashOfConfig":"21"},{"size":10738,"mtime":1662483196273,"results":"31","hashOfConfig":"21"},{"size":391,"mtime":1661964640665,"results":"32","hashOfConfig":"21"},{"size":178,"mtime":1661964640665,"results":"33","hashOfConfig":"21"},{"size":863,"mtime":1661964640665,"results":"34","hashOfConfig":"21"},{"size":288,"mtime":1662483196273,"results":"35","hashOfConfig":"21"},{"size":180,"mtime":1661964640665,"results":"36","hashOfConfig":"21"},{"size":263,"mtime":1661964640665,"results":"37","hashOfConfig":"21"},{"size":3382,"mtime":1661964640665,"results":"38","hashOfConfig":"21"},{"size":1139,"mtime":1661964640665,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"t0aspw",{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103"},"/home/luismelo/Documents/GitHub/Frontend/src/index.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/interceptors/axios.ts",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/App.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/shared/store/auth-context.tsx",["104","105","106"],[],"import React, { useState } from 'react';\n\ninterface IUser {\n  email: string;\n  id: string;\n  name: string;\n  role: [];\n}\n\nconst initialUser = {\n  email: '',\n  id: '',\n  name: '',\n  role: [],\n};\n\nconst AuthContext = React.createContext({\n  token: undefined,\n  isSignedIn: false,\n  user: initialUser,\n  signin: (token: string, user: IUser) => {\n    /**/\n  },\n  signout: () => {\n    /**/\n  },\n});\n\nexport const AuthContextProvider = (props: any) => {\n  const [token, setToken] = useState();\n  const [user, setUser] = useState(initialUser);\n  const userIsSignedIn = !!token;\n\n  const signinHandler = (token: string, user: IUser) => {\n    localStorage.setItem('isAuthenticated', 'true');\n    // setToken(token);\n    setUser({\n      email: user.email,\n      id: user.id,\n      name: user.name,\n      role: user.role,\n    });\n  };\n\n  const signoutHandler = () => {\n    setToken(undefined);\n    setUser(initialUser);\n  };\n\n  const contextValue = {\n    token: token,\n    user: user,\n    isSignedIn: userIsSignedIn,\n    signin: signinHandler,\n    signout: signoutHandler,\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthContext;\n","/home/luismelo/Documents/GitHub/Frontend/src/shared/themes/index.ts",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/shared/themes/Theme.ts",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/routes/index.tsx",["107"],[],"import { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport { LandingPage } from '../pages/LandingPage/LandingPage';\nimport LayoutRoutes from '../shared/components/LayoutRoutes/LayoutRotes';\nimport Unauthorized from '../pages/Unauthorized/Unauthorized';\nimport { Suspense, lazy, useEffect, useState } from 'react';\nimport RequireAuth from '../shared/features/RequireAuth';\nimport axios from '../interceptors/axios';\nimport { Loading } from '../shared/components/Loading/Loading';\nimport { MyPageRoute } from '../shared/components/MyPageRoute/MyPageRoute';\nexport const AppRoutes = () => {\n  const [signedUser, setSignedUser] = useState(false);\n  const navigate = useNavigate();\n  const MyPage = lazy(() =>\n    import('../pages/MyPage/MyPage').then(({ MyPage }) => ({ default: MyPage }))\n  );\n  const SignPage = lazy(() =>\n    import('../pages/SignPage/SignPage').then(({ SignPage }) => ({\n      default: SignPage,\n    }))\n  );\n\n  useEffect(() => {\n    const isAuthenticated = localStorage.getItem('isAuthenticated');\n    if (isAuthenticated) {\n      axios\n        .get('auth/whoami', {\n          headers: { 'Content-Type': 'application/json' },\n          withCredentials: true,\n        })\n        .then((res) => {\n          console.log(res.data);\n          const signUser = res.data;\n\n          if (signUser) {\n            setSignedUser(true);\n            navigate('/my', { replace: true });\n          }\n          if (!signUser) navigate('/', { replace: true });\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    }\n  }, []);\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<LayoutRoutes />}>\n        {/* public routes */}\n        {!signedUser ? (\n          <Route\n            path=\"/\"\n            element={\n              <Suspense fallback={<Loading />}>\n                <LandingPage />\n              </Suspense>\n            }\n          />\n        ) : (\n          <Route path=\"/my\" element={<MyPageRoute />} />\n        )}\n        {!signedUser ? (\n          <Route\n            path=\"/sign\"\n            element={\n              <Suspense fallback={<Loading />}>\n                <SignPage />\n              </Suspense>\n            }\n          />\n        ) : (\n          <Route path=\"/my\" element={<MyPageRoute />} />\n        )}\n        {!signedUser ? (\n          <Route path=\"/unauthorized\" element={<Unauthorized />} />\n        ) : (\n          <Route path=\"/my\" element={<MyPageRoute />} />\n        )}\n\n        {/*  private routes */}\n        {/*Separate Protected Nested Routes with every role. For now Admin, Student and Professor are allowed */}\n\n        <Route\n          element={\n            <RequireAuth allowedRoles={['admin', 'student', 'professor']} />\n          }\n        >\n          <Route path=\"/my\" element={<MyPageRoute />} />\n        </Route>\n\n        {/* catch all */}\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\n      </Route>\n    </Routes>\n  );\n};\n","/home/luismelo/Documents/GitHub/Frontend/src/shared/features/RequireAuth.tsx",["108"],[],"import { useLocation, Navigate, Outlet} from 'react-router-dom';\nimport useAuth from '../hooks/useAuth';\n\nconst RequireAuth = (props: any) => {\n  const authCtx = useAuth();\n  const location = useLocation();\n\n  return (\n    authCtx.user.role.find(role => props.allowedRoles?.includes(role))\n      ? <Outlet/> \n      : authCtx?.user \n        ? <Navigate to='/unauthorized' state={{from: location}} replace />  \n        : <Navigate to='/sign' state={{from: location}} replace/>);\n\n};\n\nexport default RequireAuth;","/home/luismelo/Documents/GitHub/Frontend/src/pages/Unauthorized/Unauthorized.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/pages/LandingPage/LandingPage.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/pages/SignPage/SignPage.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/pages/MyPage/MyPage.tsx",["109"],[],"import { SideBar } from '../../shared/components/SideBar/SideBar';\nimport { MyLayout } from '../../shared/layouts/MyLayout';\nimport React, { ReactElement } from 'react';\n\nexport const MyPage: React.FC<any> = (props): ReactElement => {\n  return (\n    <div>\n      <SideBar currUser={props.currUser.name}>\n        <MyLayout currUser={props.currUser.name} />\n      </SideBar>\n    </div>\n  );\n};\n","/home/luismelo/Documents/GitHub/Frontend/src/shared/components/LayoutRoutes/LayoutRotes.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/shared/components/Loading/Loading.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/shared/components/MyPageRoute/MyPageRoute.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/shared/hooks/useAuth.tsx",[],[],"/home/luismelo/Documents/GitHub/Frontend/src/shared/layouts/MyLayout.tsx",["110"],[],"import React, {ReactElement} from 'react';\nimport {Typography} from '@mui/material';\n\nexport const MyLayout: React.FC<any> = (props): ReactElement => {\n  return <Typography ml={6} variant=\"h4\" component=\"h4\">\n    Welcome back {props.currUser}\n  </Typography>;\n};\n","/home/luismelo/Documents/GitHub/Frontend/src/shared/components/SideBar/SideBar.tsx",["111"],[],"import { Groups, Home } from '@mui/icons-material';\r\nimport ManageAccountsIcon from '@mui/icons-material/ManageAccounts';\r\nimport SchoolIcon from '@mui/icons-material/School';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport {\r\n  Avatar,\r\n  Divider,\r\n  Drawer,\r\n  List,\r\n  ListItemButton,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n  useMediaQuery,\r\n  useTheme,\r\n} from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport { signout } from '../../features/SignServices';\r\n\r\nexport const SideBar: React.FC<any> = (props) => {\r\n  const authCtx = useAuth();\r\n  const navigate = useNavigate();\r\n  const theme = useTheme();\r\n  const smDown = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  const signOutHandler = async () => {\r\n    await signout();\r\n    authCtx.isSignedIn = false;\r\n    navigate('/', { replace: true });\r\n  };\r\n  return (\r\n    <>\r\n      <Drawer open={true} variant={smDown ? 'temporary' : 'permanent'}>\r\n        <Box\r\n          width={theme.spacing(28)}\r\n          height=\"100%\"\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n        >\r\n          <Box\r\n            width=\"100%\"\r\n            height={theme.spacing(20)}\r\n            display=\"flex\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n            marginTop={theme.spacing(3)}\r\n            marginBottom={theme.spacing(-3)}\r\n          >\r\n            <Avatar\r\n              sx={{ height: theme.spacing(12), width: theme.spacing(12) }}\r\n            />\r\n          </Box>\r\n          <Box\r\n            width=\"100%\"\r\n            display=\"flex\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"center\"\r\n          >\r\n            <Typography variant=\"h5\" component=\"h5\">\r\n              {props.currUser}\r\n            </Typography>\r\n          </Box>\r\n\r\n          <Divider />\r\n          <Box flex={1}>\r\n            <List component=\"nav\">\r\n              <ListItemButton>\r\n                <ListItemIcon>\r\n                  <Home />\r\n                </ListItemIcon>\r\n                <ListItemText secondary=\"Home\"></ListItemText>\r\n              </ListItemButton>\r\n              <ListItemButton>\r\n                <ListItemIcon>\r\n                  <Groups />\r\n                </ListItemIcon>\r\n                <ListItemText secondary=\"Classes\"></ListItemText>\r\n              </ListItemButton>\r\n              <ListItemButton>\r\n                <ListItemIcon>\r\n                  <SchoolIcon />\r\n                </ListItemIcon>\r\n                <ListItemText secondary=\"Assessments\"></ListItemText>\r\n              </ListItemButton>\r\n              <ListItemButton>\r\n                <ListItemIcon>\r\n                  <ManageAccountsIcon />\r\n                </ListItemIcon>\r\n                <ListItemText secondary=\"Management\"></ListItemText>\r\n              </ListItemButton>\r\n              <ListItemButton onClick={signOutHandler}>\r\n                <ListItemIcon>\r\n                  <LogoutIcon />\r\n                </ListItemIcon>\r\n                <ListItemText secondary=\"Log out\"></ListItemText>\r\n              </ListItemButton>\r\n            </List>\r\n          </Box>\r\n        </Box>\r\n      </Drawer>\r\n      <Box height=\"100vh\" marginLeft={smDown ? 0 : theme.spacing(28)}>\r\n        {props.children}\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n","/home/luismelo/Documents/GitHub/Frontend/src/shared/features/SignServices.ts",["112","113","114"],[],"import axios from '../../interceptors/axios';\n\nexport const signin = (route: string, inputs: any) => {\n  axios\n    .post(route, inputs, {\n      headers: { 'Content-Type': 'application/json' },\n      withCredentials: true,\n    })\n    .then((res) => {\n      // const accessToken = res.data.token;\n      // const user = res.data.user;\n      console.log(res.data);\n      console.log('User logged In');\n      return res.data;\n    })\n    .catch(function (error) {\n      alert('User not found!');\n      console.log(error.message);\n    });\n};\nexport const signup = (route: string, inputs: any) => {\n  axios\n    .post(route, inputs)\n    .then((res) => {\n      if (res.status === 201) {\n        alert('User was created! Please Sign In');\n        console.log('User created');\n        return;\n      }\n    })\n    .catch(function (error) {\n      alert('Email already exists!');\n      console.log(error.message);\n      return;\n    });\n};\n// export const signToken = () => {};\nexport const signout = () => {\n  axios.post('/auth/signout').then((res) => {\n    alert('User logged Out');\n    console.log('User logged Out');\n    localStorage.clear();\n  });\n};\n",{"ruleId":"115","severity":1,"message":"116","line":21,"column":12,"nodeType":"117","messageId":"118","endLine":21,"endColumn":25},{"ruleId":"115","severity":1,"message":"119","line":21,"column":27,"nodeType":"117","messageId":"118","endLine":21,"endColumn":38},{"ruleId":"120","severity":1,"message":"121","line":29,"column":44,"nodeType":"122","messageId":"123","endLine":29,"endColumn":47,"suggestions":"124"},{"ruleId":"115","severity":1,"message":"125","line":13,"column":9,"nodeType":"117","messageId":"118","endLine":13,"endColumn":15},{"ruleId":"120","severity":1,"message":"121","line":4,"column":29,"nodeType":"122","messageId":"123","endLine":4,"endColumn":32,"suggestions":"126"},{"ruleId":"120","severity":1,"message":"121","line":5,"column":31,"nodeType":"122","messageId":"123","endLine":5,"endColumn":34,"suggestions":"127"},{"ruleId":"120","severity":1,"message":"121","line":4,"column":33,"nodeType":"122","messageId":"123","endLine":4,"endColumn":36,"suggestions":"128"},{"ruleId":"120","severity":1,"message":"121","line":23,"column":32,"nodeType":"122","messageId":"123","endLine":23,"endColumn":35,"suggestions":"129"},{"ruleId":"120","severity":1,"message":"121","line":3,"column":47,"nodeType":"122","messageId":"123","endLine":3,"endColumn":50,"suggestions":"130"},{"ruleId":"120","severity":1,"message":"121","line":21,"column":47,"nodeType":"122","messageId":"123","endLine":21,"endColumn":50,"suggestions":"131"},{"ruleId":"115","severity":1,"message":"132","line":39,"column":37,"nodeType":"117","messageId":"118","endLine":39,"endColumn":40},"@typescript-eslint/no-unused-vars","'token' is defined but never used.","Identifier","unusedVar","'user' is defined but never used.","@typescript-eslint/no-explicit-any","Unexpected any. Specify a different type.","TSAnyKeyword","unexpectedAny",["133","134"],"'MyPage' is assigned a value but never used.",["135","136"],["137","138"],["139","140"],["141","142"],["143","144"],["145","146"],"'res' is defined but never used.",{"messageId":"147","fix":"148","desc":"149"},{"messageId":"150","fix":"151","desc":"152"},{"messageId":"147","fix":"153","desc":"149"},{"messageId":"150","fix":"154","desc":"152"},{"messageId":"147","fix":"155","desc":"149"},{"messageId":"150","fix":"156","desc":"152"},{"messageId":"147","fix":"157","desc":"149"},{"messageId":"150","fix":"158","desc":"152"},{"messageId":"147","fix":"159","desc":"149"},{"messageId":"150","fix":"160","desc":"152"},{"messageId":"147","fix":"161","desc":"149"},{"messageId":"150","fix":"162","desc":"152"},{"messageId":"147","fix":"163","desc":"149"},{"messageId":"150","fix":"164","desc":"152"},"suggestUnknown",{"range":"165","text":"166"},"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct.","suggestNever",{"range":"165","text":"167"},"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of.",{"range":"168","text":"166"},{"range":"168","text":"167"},{"range":"169","text":"166"},{"range":"169","text":"167"},{"range":"170","text":"166"},{"range":"170","text":"167"},{"range":"171","text":"166"},{"range":"171","text":"167"},{"range":"172","text":"166"},{"range":"172","text":"167"},{"range":"173","text":"166"},{"range":"173","text":"167"},[438,441],"unknown","never",[134,137],[201,204],[118,121],[654,657],[93,96],[581,584]]